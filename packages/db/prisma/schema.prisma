generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String    @id @default(uuid())
  name             String
  email            String    @unique
  password         String
  isOAuth          Boolean   @default(false)
  verifyCode       String?
  verifyCodeExpiry DateTime?
  isVerified       Boolean   @default(false)
}

model Seller {
  id                String    @id @default(uuid())
  fullName          String    @default("")
  nurseryName       String
  email             String    @unique
  phoneNumber       String
  password          String
  nurseryBio        String?
  address           String
  business_hours    String?
  location          String?
  specialities      String[]
  verifyCode        String?
  verifyCodeExpiry  DateTime?
  isAdminVerified   Boolean   @default(false)
  adminName         String    @default("")
  isVerified        Boolean   @default(false)
  isSuspended       Boolean   @default(false)
  profilePictureURL String?
  products          Product[]
}

model Product {
  id                 String               @id @default(uuid())
  seller             Seller               @relation(fields: [sellerId], references: [id])
  sellerId           String
  name               String
  scientificName     String               @default("")
  description        String
  imageURL           String
  collection         String
  category           String
  tags               String
  productStatus      String
  visibility         String
  isAdminVerified    Boolean              @default(false)
  productSizeVariant ProductSizeVariant[]
}

model ProductSizeVariant {
  id        String  @id @default(uuid())
  product   Product @relation(fields: [productId], references: [id])
  productId String
  size      String
  price     String
  compareAt String
  quantity  Int
}

model GrowVatika_Admin {
  id       String @id @default(uuid())
  name     String
  email    String @unique
  password String
}
